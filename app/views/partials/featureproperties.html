<div style="margin-left: 3px">
  <div ng-if="selectedFeature">
    <input type="button" class="btn btn-default" ng-click="showFeatureHistory(selectedFeature.fid)" value="Show Changes">
    <input type="button" class="btn btn-default" ng-click="deleteFeature()" value="Delete">
    <br>
    <select ng-model="$parent.selectedCategory" ng-options="categories[key].name for (key, value) in categories" ng-change="selectPresets(scope, option.value, $event)">
      <option value="" disabled selected>Select a category</option>
    </select>
    <br>
    <span ng-show="presets">
      <select ng-model="$parent.selectedPreset" ng-options="presets[key].name for (key, value) in presets" ng-change="selectFields()">
        <option value="" disabled selected>Select a sub category</option>
      </select>
      <br>
    </span>
    <br>

    <div id="featurePropsForm" ng-repeat="prop in selectedFeature.properties">
      <div class="input-group">
        <label class="input-group-addon propertyLabel" for="{{prop.key}}">{{prop.key}}</label>
        <input type="text" class="form-control" value="{{prop.value}}" id="{{prop.key}}" ng-model="prop.value" ng-change="propertyChanged()">
        <span class="input-group-btn">
          <button class="btn btn-default propertyRemoveBtn" type="button" ng-click="removeProperty($index)">-</button>
        </span>
      </div>
    </div>
    <div ng-hide="selectedFeature.properties.length">This feature has no properties yet.</div>
    <input type="button" class="btn btn-default" ng-click="addNewProperty($event)" value="Add new Property">
    <br>
    <input type="button" class="btn btn-default stopEditBtn" id="stopEditBtn" ng-click="cancelEditMode()" value="Stop Editing">

  </div>
  <div ng-if="!selectedFeature">
    Click on a feature to open it's properties...
  </div>


  <div ng-class="{'hide': hideNewProperty}">
    <h3>New Property</h3>
    <label for="newKey">Key</label>
    <br>
    <input id="newKey" type="text" ng-model="newKey">
    <br>
    <label for="newValue">Value</label>
    <br>
    <input id="newValue" type="text" ng-model="newValue" ng-keypress="newProperty($event)">
    <input type="button" class="btn btn-default" ng-click="newProperty()" value="Save">
  </div>


</div>
